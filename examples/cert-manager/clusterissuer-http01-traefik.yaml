# =============================================================================
# HTTP-01 ClusterIssuer (Traefik)
# =============================================================================
# Use este ClusterIssuer quando:
# - Seus serviços são acessíveis publicamente na porta 80
# - Você NÃO está atrás de um proxy/firewall que bloqueia a porta 80
# - Você tem um Ingress Controller (Traefik, Nginx, etc.) configurado
#
# Para outros Ingress Controllers, altere 'class: traefik' para:
# - nginx
# - kong
# - haproxy
# =============================================================================
apiVersion: cert-manager.io/v1
kind: ClusterIssuer
metadata:
  name: letsencrypt-http
spec:
  acme:
    email: you@example.com
    # Produção: https://acme-v02.api.letsencrypt.org/directory
    # Staging:  https://acme-staging-v02.api.letsencrypt.org/directory
    server: https://acme-v02.api.letsencrypt.org/directory
    privateKeySecretRef:
      name: letsencrypt-http-account-key
    solvers:
      - http01:
          ingress:
            class: traefik
---
# =============================================================================
# Exemplo de Certificate
# =============================================================================
# apiVersion: cert-manager.io/v1
# kind: Certificate
# metadata:
#   name: my-app-tls
#   namespace: default
# spec:
#   secretName: my-app-tls-secret
#   issuerRef:
#     name: letsencrypt-http
#     kind: ClusterIssuer
#   commonName: myapp.example.com
#   dnsNames:
#     - myapp.example.com
#     - www.myapp.example.com

