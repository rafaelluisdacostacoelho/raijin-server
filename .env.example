# =============================================================================
# RAIJIN SERVER - Environment Variables Configuration
# =============================================================================
# Copie este arquivo para .env e ajuste os valores conforme seu ambiente.
# NUNCA commite o arquivo .env no repositório!
#
# Uso:
#   cp .env.example .env
#   nano .env  # Edite com seus valores
#   source .env  # Carregue no shell atual
#
# Ou adicione ao ~/.bashrc para persistência:
#   echo 'set -a; source /path/to/.env; set +a' >> ~/.bashrc
# =============================================================================

# -----------------------------------------------------------------------------
# REDE - Configuração de IP Estático
# -----------------------------------------------------------------------------
# Interface de rede principal (ex: eth0, ens18, enp0s3)
RAIJIN_NET_INTERFACE="eth0"

# IP estático do servidor (com máscara CIDR)
# SUBSTITUA pelo IP da sua rede!
RAIJIN_NET_IP="192.168.1.100/24"

# Gateway padrão (IP do seu router)
RAIJIN_NET_GATEWAY="192.168.1.1"

# Servidores DNS (separados por vírgula)
# Exemplo: Cloudflare + Google
RAIJIN_NET_DNS="1.1.1.1,8.8.8.8"

# DNS secundário interno (opcional, para split-horizon)
RAIJIN_NET_DNS_INTERNAL=""

# MTU da interface (padrão: 1500, ajustar se usar VPN/VXLAN)
RAIJIN_NET_MTU="1500"

# -----------------------------------------------------------------------------
# KUBERNETES - Configuração do Cluster
# -----------------------------------------------------------------------------
# Nome do cluster
RAIJIN_K8S_CLUSTER_NAME="raijin"

# IP de anúncio do API Server (geralmente o IP do servidor)
# SUBSTITUA pelo IP da sua rede!
RAIJIN_K8S_ADVERTISE_ADDRESS="192.168.1.100"

# CIDR dos pods (não alterar sem necessidade)
RAIJIN_K8S_POD_CIDR="10.244.0.0/16"

# CIDR dos services (não alterar sem necessidade)
RAIJIN_K8S_SERVICE_CIDR="10.96.0.0/12"

# CNI a usar (calico|cilium|none)
RAIJIN_CNI="calico"

# -----------------------------------------------------------------------------
# METALLB - Pool de IPs para LoadBalancer
# -----------------------------------------------------------------------------
# Range de IPs para LoadBalancer (deve estar na mesma subnet)
RAIJIN_METALLB_POOL_START="192.168.1.240"
RAIJIN_METALLB_POOL_END="192.168.1.250"

# IP fixo para Traefik (dentro do range acima)
RAIJIN_TRAEFIK_IP="192.168.1.240"

# -----------------------------------------------------------------------------
# VPN - WireGuard Configuration
# -----------------------------------------------------------------------------
# Porta UDP do WireGuard (padrão: 51820)
RAIJIN_VPN_PORT="51820"

# Subnet da VPN
RAIJIN_VPN_SUBNET="10.10.0.0/24"

# IP do servidor VPN dentro da subnet
RAIJIN_VPN_SERVER_IP="10.10.0.1"

# Endpoint público para clientes (seu IP público ou DDNS)
RAIJIN_VPN_ENDPOINT="vpn.seudominio.com"

# DNS a usar dentro da VPN (pode ser o IP interno do Pi-hole/CoreDNS)
RAIJIN_VPN_DNS="10.10.0.1"

# -----------------------------------------------------------------------------
# DOMÍNIOS E TLS
# -----------------------------------------------------------------------------
# Domínio base para serviços internos
RAIJIN_DOMAIN_INTERNAL="local.io"

# Domínio público (para Let's Encrypt)
RAIJIN_DOMAIN_PUBLIC=""

# Email para Let's Encrypt
RAIJIN_LETSENCRYPT_EMAIL=""

# Provedor DNS para ACME (cloudflare|route53|digitalocean|azure)
RAIJIN_ACME_DNS_PROVIDER=""

# API Token do provedor DNS (para DNS-01 challenge)
RAIJIN_ACME_DNS_TOKEN=""

# -----------------------------------------------------------------------------
# STORAGE - MinIO
# -----------------------------------------------------------------------------
# Credenciais MinIO (MUDE EM PRODUÇÃO!)
RAIJIN_MINIO_ROOT_USER="admin"
RAIJIN_MINIO_ROOT_PASSWORD="CHANGE_THIS_PASSWORD"

# Porta API MinIO
RAIJIN_MINIO_API_PORT="9000"

# Porta Console MinIO
RAIJIN_MINIO_CONSOLE_PORT="9001"

# -----------------------------------------------------------------------------
# SECRETS - Vault
# -----------------------------------------------------------------------------
# Modo de desenvolvimento (NÃO usar em produção)
RAIJIN_VAULT_DEV_MODE="true"

# Root token (apenas dev mode)
RAIJIN_VAULT_DEV_TOKEN="root"

# -----------------------------------------------------------------------------
# OBSERVABILIDADE
# -----------------------------------------------------------------------------
# Senha do Grafana admin (MUDE EM PRODUÇÃO!)
RAIJIN_GRAFANA_ADMIN_PASSWORD="CHANGE_THIS_PASSWORD"

# Retenção de métricas Prometheus (dias)
RAIJIN_PROMETHEUS_RETENTION_DAYS="15"

# Retenção de logs Loki (horas)
RAIJIN_LOKI_RETENTION_HOURS="720"

# -----------------------------------------------------------------------------
# SSH - Configuração de Segurança
# -----------------------------------------------------------------------------
# Porta SSH (padrão: 22, recomendado mudar)
RAIJIN_SSH_PORT="22"

# Usuários permitidos (separados por vírgula)
RAIJIN_SSH_ALLOWED_USERS="seuusuario"

# Permitir autenticação por senha (false = apenas chave)
RAIJIN_SSH_PASSWORD_AUTH="false"

# -----------------------------------------------------------------------------
# REGISTRY - Harbor
# -----------------------------------------------------------------------------
# Senha admin do Harbor (MUDE EM PRODUÇÃO!)
RAIJIN_HARBOR_ADMIN_PASSWORD="CHANGE_THIS_PASSWORD"

# Domínio do Harbor
RAIJIN_HARBOR_DOMAIN="harbor.local.io"

# -----------------------------------------------------------------------------
# BACKUPS - Velero
# -----------------------------------------------------------------------------
# Schedule de backup (cron format)
RAIJIN_BACKUP_SCHEDULE="0 2 * * *"

# Retenção de backups (dias)
RAIJIN_BACKUP_RETENTION_DAYS="30"

# -----------------------------------------------------------------------------
# AVANÇADO - Skip de Módulos
# -----------------------------------------------------------------------------
# Pular configuração de rede (se já configurada externamente)
RAIJIN_SKIP_NETWORK="0"

# Pular hardening (para debug)
RAIJIN_SKIP_HARDENING="0"

# Forçar reinstalação do CNI
RAIJIN_FORCE_CNI="0"
